<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Operations Dashboard</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>

  <!-- HEADER BAR -->
  <header class="header-bar">
    <div class="header-left">
      <div class="app-title" id="dashboardTitle">Operations Dashboard</div>
      <div class="header-sub">
        <span id="localTime">--:--:--</span>
        <span class="dot">•</span>
        Refresh in <span id="refreshCountdown">--</span>s
      </div>
    </div>

    <div class="header-right">
      <button class="btn" id="toggleEditBtn">Edit Mode</button>
      <button class="btn" id="exportBtn">Export</button>
      <button class="btn" id="importBtn">Import</button>
      <button class="btn btn-warn" id="resetBtn">Reset</button>
    </div>
  </header>

  <!-- DASHBOARD GRID -->
  <main class="dashboard" id="dashboardGrid">

    <!-- LEFT COLUMN (3 equal panels, NOT nested panels) -->
    <section class="column-left">

      <div class="panel" data-panel="leftTop">
        <div class="panel-toolbar">
          <span class="panel-name">Left 1</span>
          <button class="panel-edit btn-mini" data-edit="leftTop">Edit</button>
        </div>
        <div class="panel-body" id="panel-leftTop"></div>
      </div>

      <div class="panel" data-panel="leftMiddle">
        <div class="panel-toolbar">
          <span class="panel-name">Left 2</span>
          <button class="panel-edit btn-mini" data-edit="leftMiddle">Edit</button>
        </div>
        <div class="panel-body" id="panel-leftMiddle"></div>
      </div>

      <div class="panel" data-panel="leftBottom">
        <div class="panel-toolbar">
          <span class="panel-name">Left 3</span>
          <button class="panel-edit btn-mini" data-edit="leftBottom">Edit</button>
        </div>
        <div class="panel-body" id="panel-leftBottom"></div>
      </div>

    </section>

    <!-- CENTER TOP -->
    <section class="panel" data-panel="centerTop">
      <div class="panel-toolbar">
        <span class="panel-name">Center Top</span>
        <button class="panel-edit btn-mini" data-edit="centerTop">Edit</button>
      </div>
      <div class="panel-body" id="panel-centerTop"></div>
    </section>

    <!-- RIGHT TOP -->
    <section class="panel" data-panel="rightTop">
      <div class="panel-toolbar">
        <span class="panel-name">Right Top</span>
        <button class="panel-edit btn-mini" data-edit="rightTop">Edit</button>
      </div>
      <div class="panel-body" id="panel-rightTop"></div>
    </section>

    <!-- CENTER BOTTOM -->
    <section class="panel" data-panel="centerBottom">
      <div class="panel-toolbar">
        <span class="panel-name">Center Bottom</span>
        <button class="panel-edit btn-mini" data-edit="centerBottom">Edit</button>
      </div>
      <div class="panel-body" id="panel-centerBottom"></div>
    </section>

    <!-- RIGHT BOTTOM -->
    <section class="panel" data-panel="rightBottom">
      <div class="panel-toolbar">
        <span class="panel-name">Right Bottom</span>
        <button class="panel-edit btn-mini" data-edit="rightBottom">Edit</button>
      </div>
      <div class="panel-body" id="panel-rightBottom"></div>
    </section>

  </main>

  <!-- EDIT DRAWER -->
  <aside class="drawer" id="drawer" aria-hidden="true">
    <div class="drawer-header">
      <div>
        <div class="drawer-title">Customize Dashboard</div>
        <div class="drawer-sub">
          Saved locally in this browser. Use Export/Import to move between machines.
        </div>
      </div>
      <button class="btn btn-warn" id="closeDrawerBtn">Close</button>
    </div>

    <div class="drawer-section">
      <h3>Header</h3>

      <label class="field">
        <span>Dashboard Name</span>
        <input type="text" id="nameInput">
      </label>

      <label class="field">
        <span>Refresh Interval (seconds)</span>
        <input type="number" id="refreshInput" min="30" step="10">
        <div class="hint">Recommended: 300–900 seconds (5–15 minutes)</div>
      </label>
    </div>

    <div class="drawer-section">
      <h3>Column Widths</h3>

      <div class="row3">
        <label class="field">
          <span>Left (%)</span>
          <input type="number" id="col1">
        </label>
        <label class="field">
          <span>Center (%)</span>
          <input type="number" id="col2">
        </label>
        <label class="field">
          <span>Right (%)</span>
          <input type="number" id="col3">
        </label>
      </div>

      <div class="preset-row">
        <button class="btn" data-preset="cameras">Cameras Focus</button>
        <button class="btn" data-preset="balanced">Balanced</button>
        <button class="btn" data-preset="weather">Weather Focus</button>
      </div>
    </div>

    <div class="drawer-section">
      <h3>Panels</h3>
      <div class="hint">
        Paste a full iframe snippet OR a URL.  
        If a URL is provided, it will be wrapped automatically.
      </div>
      <div class="panel-list" id="panelList"></div>
    </div>

    <div class="drawer-footer">
      <button class="btn" id="saveBtn">Save Changes</button>
      <button class="btn btn-warn" id="discardBtn">Discard</button>
    </div>
  </aside>

  <!-- IMPORT / EXPORT MODAL -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-header">
        <div class="modal-title" id="modalTitle">Import Configuration</div>
        <button class="btn btn-warn" id="modalClose">Close</button>
      </div>
      <div class="modal-body">
        <textarea id="modalTextarea" placeholder="Paste JSON here..."></textarea>
        <div class="hint" id="modalHint"></div>
      </div>
      <div class="modal-footer">
        <button class="btn" id="modalConfirm">Confirm</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
